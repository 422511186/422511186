{"version":3,"file":"js/652.c30e059f.js","mappings":"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","sources":["webpack://poetrymirror/./src/pages/forPoetry.vue","webpack://poetrymirror/./src/pages/forPoetry.vue?11ed"],"sourcesContent":["<template>\r\n  <div class=\"box\">\r\n    <div>\r\n      <div class=\"tag\">\r\n        <span class=\"Text\"><router-link to=\"/\">返回首页</router-link></span>\r\n      </div>\r\n      <div class=\"yuan\"></div>\r\n    </div>\r\n    <!-- 标题 -->\r\n    <h1 class=\"title\" id=\"title-for\">寻诗</h1>\r\n    <!--古诗分类标签-->\r\n    <nav class=\"tags\">\r\n      <span\r\n          class=\"item\"\r\n          v-for=\"(item, index) in tags\"\r\n          :key=\"index\"\r\n          :class=\"index === typeValue ? 'checked' : ''\"\r\n          @click=\"getPoemsBLabel(1, 5, index)\"\r\n      >\r\n        {{ item }}\r\n      </span>\r\n    </nav>\r\n    <!--搜索框-->\r\n    <div class=\"input-btn\">\r\n      <el-input v-model=\"value\" placeholder=\"\"/>\r\n\r\n      <label class=\"upload_img\" for=\"file\"></label>\r\n      <input type=\"file\" name=\"file\" id=\"file\" class=\"upload\" @change=\"update\">\r\n\r\n      <button class=\"btn\" @click=\"search\">\r\n        <span class=\"text\">搜索</span>\r\n      </button>\r\n    </div>\r\n    <!--寻诗结果分割线-->\r\n    <div><i class=\"dividing-line\" id=\"start\"></i></div>\r\n    <!--寻诗结果展示-->\r\n    <div class=\"poems\">\r\n      <div class=\"drop-shadow\" v-for=\"(item, index) in poety\" :key=\"index\">\r\n        <h4 class=\"title\">{{ item.name }}</h4>\r\n        <h4 class=\"poet\">{{ item[\"poet\"] }}</h4>\r\n        <div class=\"content\" v-html=\"item.content\" :class=\"displayAll[index]\" :id=\"'content'+item.id\"></div>\r\n        <button class=\"play\" @click=\"audioPlay(item.content)\">播放</button>\r\n        <div class=\"more\" @click=\"more(index)\" v-show=\"countBr(item.content)&&displayAll[index]===''\">展开</div>\r\n        <div class=\"reduce\" @click=\"reduce(index)\" v-show=\"countBr(item.content)&&displayAll[index]!==''\">收起</div>\r\n      </div>\r\n\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n            :hide-on-single-page='hidePage'\r\n            class=\"pagination-1\"\r\n            v-model:current-page=\"page\"\r\n            v-model:page-size=\"size\"\r\n            background\r\n            layout=\"prev, pager, next\"\r\n            v-model:total=\"len\"\r\n            @current-change=\"changeClick\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '../assets/js/bus'\r\nimport {ElLoading} from 'element-plus'\r\n\r\nexport default {\r\n  name: \"forPoetry\",\r\n  data() {\r\n    return {\r\n      hidePage: false,\r\n      page: 1, //页码\r\n      len: 0,\r\n      typeValue: -1, //记录当前选择标签的下标\r\n      size: 5,\r\n      value: \"\",\r\n      tags: [\r\n        \"全部\",\r\n        \"先秦\",\r\n        \"五代\",\r\n        \"魏晋\",\r\n        \"南北朝\",\r\n        \"两汉\",\r\n        \"唐代\",\r\n        \"宋代\",\r\n        \"元代\",\r\n        \"明代\",\r\n        \"清代\",\r\n        \"诗经\",\r\n        \"楚辞\",\r\n        \"乐府\",\r\n        \"春天\",\r\n        \"夏天\",\r\n        \"秋天\",\r\n        \"冬天\",\r\n        \"写雨\",\r\n        \"写风\",\r\n        \"写花\",\r\n        \"梅花\",\r\n        \"荷花\",\r\n        \"菊花\",\r\n        \"写山\",\r\n        \"写水\",\r\n        \"长江\",\r\n        \"黄河\",\r\n        \"儿童\",\r\n        \"写鸟\",\r\n        \"写马\",\r\n        \"写景\",\r\n        \"写人\",\r\n        \"山水\",\r\n        \"写山\",\r\n        \"写水\",\r\n        \"写雪\",\r\n        \"月亮\",\r\n        \"写风\",\r\n        \"边塞\",\r\n        \"地名\",\r\n        \"节日\",\r\n        \"春节\",\r\n        \"元宵\",\r\n        \"寒食\",\r\n        \"清明\",\r\n        \"咏物\",\r\n        \"女子\",\r\n        \"春天\",\r\n        \"秋天\",\r\n        \"赞美\",\r\n        \"春节\",\r\n        \"三曹\",\r\n        \"元宵节\",\r\n        \"清明节\",\r\n        \"端午\",\r\n        \"中秋\",\r\n        \"重阳\",\r\n        \"七夕\",\r\n        \"寒食\",\r\n        \"抒情\",\r\n        \"婉约\",\r\n        \"抒怀\",\r\n        \"思念\",\r\n        \"爱情\",\r\n        \"送别\",\r\n        \"思乡\",\r\n        \"离别\",\r\n        \"怀人\",\r\n        \"友情\",\r\n        \"相思\",\r\n        \"孤独\",\r\n        \"励志\",\r\n        \"豪放\",\r\n        // \"现实主义\",\r\n        // \"浪漫主义\",\r\n        // \"建安七子\",\r\n        // \"竹林七贤\",\r\n        // \"初唐四杰\",\r\n        // \"婉约派\",\r\n        // \"豪放派\",\r\n        // \"山水诗派\",\r\n        // \"田园诗派\",\r\n        // \"边塞诗派\",\r\n      ],\r\n      poety: [],\r\n      type: 1, //分页访问的接口类型 1代表全部古诗接口，其他代表标签接口\r\n      audio: null,\r\n      displayAll: new Array(5).fill(``),\r\n    };\r\n  },\r\n  mounted() {\r\n\r\n    bus.emit('bus', false);\r\n\r\n    let data = this.$route.params.data\r\n    if (data !== undefined) {\r\n      this.poety = JSON.parse(data);\r\n      // this.len = JSON.parse(data).totalLen;\r\n      // this.displayAll = new Array(this.size).fill(``);\r\n    } else {\r\n      this.typeValue = 0;\r\n      this.getPoems(1, this.size);\r\n    }\r\n    this.hidePage = true;\r\n\r\n\r\n  },\r\n  unmounted() {\r\n    bus.emit('bus', true);\r\n    if (this.audio !== null) {\r\n      this.audio.pause();\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 展开更多\r\n     */\r\n    more(index) {\r\n      this.displayAll[index] = `displayAll`;\r\n    },\r\n    /**\r\n     * 收起更多\r\n     */\r\n    reduce(index) {\r\n      this.displayAll[index] = ``;\r\n    },\r\n    /**\r\n     * 上传图片文件进行寻诗\r\n     * @param e\r\n     */\r\n    update(e) {\r\n      let file = e.target.files[0];\r\n      let param = new FormData(); //创建form对象\r\n      param.append('img', file);//通过append向form对象添加数据\r\n      // console.log(param.get('img')); //FormData私有类对象，访问不到，可以通过get判断值是否传进去\r\n      let config = {\r\n        //添加请求头\r\n        headers: {\"Content-Type\": \"multipart/form-data\"},\r\n        // //添加上传进度监听事件\r\n        // onUploadProgress: e => {\r\n        //   this.progress = ((e.loaded / e.total * 100) | 0) + \"%\";\r\n        // }\r\n      };\r\n      const loadingInstance = ElLoading.service({fullscreen: true})\r\n      let url = '/imgUpload/picPoem/';\r\n      this.$axios.post(url, param, config)\r\n          .then(res => {\r\n            this.poety = res.data.data;\r\n            this.len = 1;\r\n            loadingInstance.close();\r\n          })\r\n          .catch(error => {\r\n            this.$message.error(`发生错误，错误原因为${error}`)\r\n            loadingInstance.close();\r\n          })\r\n\r\n    },\r\n    /**\r\n     * 切换分页\r\n     */\r\n    changeClick() {\r\n      if (this.type === 1) {\r\n        this.getPoems(this.page, this.size).then(() => {\r\n          //设置页面移动到诗歌展示的顶部\r\n          document.getElementById(\"start\").scrollIntoView();\r\n          this.displayAll = new Array(this.size).fill(``);\r\n        });\r\n      } else\r\n        this.getPoemsBLabel(this.page, this.size, this.typeValue).then(() => {\r\n          //设置页面移动到诗歌展示的顶部\r\n          document.getElementById(\"start\").scrollIntoView();\r\n          this.displayAll = new Array(this.size).fill(``);\r\n        });\r\n    },\r\n    //获取全部古诗接口\r\n    async getPoems(p, s) {\r\n      if (p === 1 && this.page !== 1) {\r\n        this.page = 1;\r\n      }\r\n      const loadingInstance = ElLoading.service({fullscreen: true})\r\n      await this.$axios({\r\n        url: \"/api/poemsList/\",\r\n        method: \"get\",\r\n        params: {\r\n          page: p,\r\n          size: s,\r\n        },\r\n      }).then((res) => {\r\n        this.poety = res.data.data;\r\n        this.len = res.data.totalLen;\r\n        // console.log(1)\r\n        loadingInstance.close();\r\n      }).catch(error => {\r\n        this.$message.error(`发生错误，错误原因为${error}`)\r\n        loadingInstance.close();\r\n      })\r\n\r\n    },\r\n\r\n    async getPoemsBLabel(p, s, label_index) {\r\n      this.typeValue = label_index;\r\n\r\n      if (p === 1 && this.page !== 1) {\r\n        this.page = 1;\r\n      }\r\n      //设置分页为标签列表的分类\r\n      this.type = 2;\r\n      const loadingInstance = ElLoading.service({fullscreen: true})\r\n      await this.$axios({\r\n        url: \"/api/multiPoem/\",\r\n        method: \"get\",\r\n        params: {\r\n          page: p,\r\n          size: s,\r\n          label: this.tags[label_index],\r\n        },\r\n      }).then((res) => {\r\n        this.poety = res.data.data;\r\n        this.len = res.data.totalLen;\r\n        loadingInstance.close();\r\n      }).catch(error => {\r\n        this.$message.error(`发生错误，错误原因为${error}`)\r\n        loadingInstance.close();\r\n      })\r\n    },\r\n    /**\r\n     *搜索\r\n     */\r\n    search() {\r\n      if (this.page !== 1) {\r\n        this.page = 1;\r\n      }\r\n      const loadingInstance = ElLoading.service({fullscreen: true})\r\n      this.$axios({\r\n        url: \"/model/trans/\",\r\n        method: \"get\",\r\n        params: {\r\n          search: this.value,\r\n        },\r\n      }).then((res) => {\r\n        this.poety = res.data;\r\n        this.len = 1;\r\n        this.displayAll = new Array(this.size).fill(``);\r\n        loadingInstance.close();\r\n      }).catch(error => {\r\n        this.$message.error(`发生错误，错误原因为${error}`)\r\n        loadingInstance.close();\r\n      })\r\n    },\r\n    /**\r\n     * 语音朗读\r\n     */\r\n    audioPlay(value) {\r\n      value = value.replaceAll('<br>', '');\r\n      this.$axios({\r\n        method: 'post',\r\n        url: '/api/readPoem/?poem=' + value,\r\n        responseType: 'arraybuffer'\r\n      }).then((response) => {\r\n            // 将 blob 数据转换成 url\r\n            let mp3Url = window.URL.createObjectURL(new Blob([response.data]))\r\n            // console.log(mp3Url)\r\n            // 进行音频播放\r\n            try {\r\n              //是否已经声明过\r\n              if (this.audio == null) {\r\n                this.audio = new Audio();\r\n                // this.audio.addEventListener('ended', function () {\r\n                //   localStorage.setItem('audioEnded', true);\r\n                // }, false);\r\n              }\r\n              if (mp3Url) {\r\n                this.audio.src = mp3Url;\r\n                this.audio.play();\r\n              }\r\n            } catch (e) {\r\n              console.log(e);\r\n            }\r\n          }\r\n      ).catch(error => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    /**\r\n     * 判断是否显示更多按钮\r\n     * @param content\r\n     * @returns {boolean}\r\n     */\r\n    countBr(content) {\r\n      let split = content.split('<br>');\r\n      let brLen = split.length;\r\n      for (const i in split) {\r\n        let x = Math.floor(split[i].length / 40);\r\n        brLen = brLen + x;\r\n      }\r\n      if (brLen > 5)\r\n        return true;\r\n      return false;\r\n    },\r\n  }\r\n  ,\r\n}\r\n;\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  width: 1220px;\r\n  min-height: 800px;\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n}\r\n\r\n.box {\r\n  position: relative;\r\n  margin: -375px auto 100px;\r\n  padding-top: 30px;\r\n  padding-bottom: 100px;\r\n}\r\n\r\n.box {\r\n  background-image: url(../assets/images/liyu.png);\r\n  background-repeat: no-repeat;\r\n  background-size: 150px auto;\r\n  background-position: 100% 100%;\r\n}\r\n\r\n.tag .Text {\r\n  font-family: \"Microsoft YaHei\", serif;\r\n  font-weight: bold;\r\n  font-size: 22px;\r\n  line-height: 50px;\r\n}\r\n\r\n.tag,\r\n.yuan {\r\n  position: absolute;\r\n  height: 50px;\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n  top: -50px;\r\n}\r\n\r\n.tag {\r\n  width: 160px;\r\n}\r\n\r\n.yuan {\r\n  width: 50px;\r\n  left: 160px;\r\n  border-top-right-radius: 100%;\r\n}\r\n\r\n.title {\r\n  font-family: \"font2\", Courier, monospace;\r\n  font-size: 64px;\r\n  font-weight: 400;\r\n}\r\n\r\n.tags {\r\n  margin-top: 30px;\r\n  padding: 15px;\r\n  text-align: left;\r\n}\r\n\r\n.tags > .item {\r\n  display: inline-block;\r\n  font-weight: bold;\r\n  padding: 5px 15px;\r\n  margin-right: 12px;\r\n  border-radius: 5px;\r\n  line-height: 30px;\r\n  cursor: pointer;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.checked {\r\n  color: #fff;\r\n  background-color: rgb(93, 126, 131);\r\n}\r\n\r\n.input-btn {\r\n  padding-left: 105px;\r\n  margin-top: 60px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.input-btn >>> input {\r\n  height: 50px;\r\n  width: 800px;\r\n}\r\n\r\n.btn {\r\n  position: relative;\r\n  transform: translate(-100px, 0);\r\n}\r\n\r\n.btn {\r\n  width: 200px;\r\n  padding: 15px;\r\n}\r\n\r\n.btn {\r\n  cursor: pointer;\r\n  border-radius: 30px;\r\n  outline-style: none;\r\n  border: none;\r\n  background-color: rgb(93, 126, 131);\r\n  color: #ffffff;\r\n  font-weight: bold;\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n}\r\n\r\n.btn > .text {\r\n  font-size: 18px;\r\n  letter-spacing: 3px;\r\n}\r\n\r\n.dividing-line {\r\n  width: 906px;\r\n  height: 48px;\r\n  margin-top: 60px;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translate(-50%, 0);\r\n  background-repeat: no-repeat;\r\n  background-size: 100%;\r\n  background-image: url(../assets/images/dline.png);\r\n}\r\n\r\n.poems {\r\n  margin-top: 150px;\r\n}\r\n\r\n.poem {\r\n  margin-top: 30px;\r\n}\r\n\r\n.poem > p {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.pagination {\r\n  margin-top: 60px;\r\n  position: relative;\r\n}\r\n\r\n.pagination-1 {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.drop-shadow {\r\n  /*font-family: \"Microsoft YaHei\", serif;*/\r\n  font-family: font7, \"Microsoft YaHei\", serif;\r\n  margin: 120px auto;\r\n  border-radius: 10px;\r\n  position: relative;\r\n  width: 60%;\r\n  max-width: 70%;\r\n  padding: 2em;\r\n  text-align: center;\r\n  background-color: rgba(253, 247, 209, 0.4);\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n}\r\n\r\n.drop-shadow {\r\n  /*text-align: left;*/\r\n}\r\n\r\n.drop-shadow .title {\r\n  margin-bottom: 10px;\r\n  /*letter-spacing: 3px;*/\r\n  font-size: 40px;\r\n}\r\n\r\n.drop-shadow .poet {\r\n  margin-left: 20px;\r\n  margin-bottom: 10px;\r\n  /*letter-spacing: 3px;*/\r\n}\r\n\r\n.drop-shadow .content {\r\n\r\n  font-size: 18px;\r\n  line-height: 30px;\r\n  /*letter-spacing: 3px;*/\r\n  /*display: -webkit-box;*/\r\n  /*-webkit-box-orient: vertical;*/\r\n  /*-webkit-line-clamp: 5;*/\r\n  max-height: 150px;\r\n  overflow: hidden;\r\n}\r\n\r\n.drop-shadow .displayAll {\r\n  /*-webkit-line-clamp: unset;*/\r\n  max-height: 100%;\r\n}\r\n\r\n.upload_img {\r\n  width: 40px;\r\n  height: 50px;\r\n  background-image: url(../assets/images/imgUpload.svg);\r\n  background-size: 100%;\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  position: relative;\r\n  left: -160px;\r\n  cursor: pointer;\r\n}\r\n\r\n.upload {\r\n  visibility: hidden;\r\n  position: absolute;\r\n}\r\n\r\n.play {\r\n  padding: 10px;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 10px;\r\n}\r\n\r\n.more, .reduce {\r\n  cursor: pointer;\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 10px;\r\n  opacity: .4;\r\n  padding: 8px;\r\n  border-radius: 10px;\r\n}\r\n\r\n</style>","import { render } from \"./forPoetry.vue?vue&type=template&id=1a941b3a&scoped=true\"\nimport script from \"./forPoetry.vue?vue&type=script&lang=js\"\nexport * from \"./forPoetry.vue?vue&type=script&lang=js\"\n\nimport \"./forPoetry.vue?vue&type=style&index=0&id=1a941b3a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Desktop\\\\poetrymirror\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a941b3a\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","for","_hoisted_11","_createElementBlock","_createVNode","_component_router_link","to","_hoisted_5","_hoisted_6","_Fragment","_renderList","$data","item","index","key","onClick","$options","_hoisted_8","_component_el_input","$event","placeholder","_hoisted_10","type","name","onChange","_hoisted_13","_toDisplayString","innerHTML","content","_hoisted_18","_hoisted_19","_hoisted_20","_component_el_pagination","background","layout","total","onCurrentChange","data","hidePage","page","len","typeValue","size","value","tags","poety","audio","displayAll","Array","fill","mounted","bus","this","$route","params","undefined","JSON","parse","getPoems","unmounted","pause","methods","more","reduce","update","e","file","target","files","param","FormData","append","config","headers","loadingInstance","ElLoading","fullscreen","url","$axios","post","then","res","close","catch","error","$message","changeClick","document","getElementById","scrollIntoView","getPoemsBLabel","async","p","s","method","totalLen","label_index","label","search","audioPlay","replaceAll","responseType","response","mp3Url","window","URL","createObjectURL","Blob","Audio","src","play","console","log","countBr","split","brLen","length","i","x","Math","floor","__exports__","render"],"sourceRoot":""}